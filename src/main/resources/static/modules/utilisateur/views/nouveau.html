<div class="panel panel-primary">
    <div class=panel-heading>Ajout d'un utilisateur</div>
    <div class=panel-body>
        <form name=form method=post role=form class=form-horizontal novalidate>
            <div class=form-group><label for=nom class="col-sm-2 control-label">Nom</label>
                <div class=col-sm-8><input type=text name=nom id=nom class=form-control ng-model=element.nom ng-required=true> <span class=error ng-show="form.nom.$dirty && form.nom.$error.required">Le nom de l'utilisateur est obligatoire</span></div>
            </div>
            <div class=form-group><label for=prenom class="col-sm-2 control-label">Prenom</label>
                <div class=col-sm-8><input type=text name=prenom id=prenom class=form-control ng-model=element.prenom ng-required=true> <span class=error ng-show="form.prenom.$dirty && form.prenom.$error.required">Le prenom de l'utilisateur est obligatoire</span></div>
            </div>
            <div class=form-group><label for=prenom class="col-sm-2 control-label">Login</label>
                <div class=col-sm-8><input type=text name=prenom id=prenom class=form-control ng-model=element.login ng-required=true> <span class=error ng-show="form.login.$dirty && form.login.$error.required">Le login de l'utilisateur est obligatoire</span></div>
            </div>
            <div class=form-group><label for=email class="col-sm-2 control-label">Email</label>
                <div class=col-sm-8><input type=email name=email id=email class=form-control ng-model=element.email ng-required=true> <span class=error ng-show="form.email.$dirty && form.email.$error.required">L'email de l'utilisateur est obligatoire</span></div>
            </div>
            <div class=form-group><label for=role class="col-sm-2 control-label">Role</label>
                <div class=col-sm-8><select name=role id=role class=form-control ng-model=element.role ng-required=true><option value>Veuillez choisir un role</option><option value=ADMINISTRATEUR>ADMINISTRATEUR</option><option value=CELLULE>CELLULE</option><option value=DEPARTEMENT>DEPARTEMENT</option></select>
                    <span
                        class=error ng-show="form.role.$dirty && form.role.$error.required">Le role de l'utilisateur est obligatoire</span>
                </div>
            </div>
            <div class=form-group><label class=col-sm-2>Departements</label>
                <div ng-show="element.role === 'DEPARTEMENT'" class=col-sm-8><select id=departement name=departement ng-model=dept ng-options="departement as departement.code for departement in departements track by departement.id"><option value>Veuillez choisir un departement</option></select><span class=error
                        ng-show="form.departements.$dirty && form.departements.$error.required">Les départements sont obligatoires</span></div>
                <div ng-show="element.role !== 'DEPARTEMENT'" class=col-sm-8>
                    <tags-input ng-model=tags id=departements display-property=code key-property=id placeholder="Ajouter un département" add-from-autocomplete-only=true>
                        <auto-complete source=loadItems($query)></auto-complete>
                    </tags-input><span class=error ng-show="form.departements.$dirty && form.departements.$error.required">Les départements sont obligatoires</span></div>
            </div>
            <div class=form-group>
                <div class="col-sm-offset-2 col-sm-10"><button type=submit class="btn btn-primary" ng-show=element.id ng-click="form.$valid && valider()"><i class="glyphicon glyphicon-edit"></i> Modifier</button> <button type=submit class="btn btn-primary" ng-hide=element.id ng-click="form.$valid && valider()"><i class="glyphicon glyphicon-saved"></i> Enregistrer</button>                    <button type=button class="btn btn-danger pull-right" ng-click=cancel()><i class="glyphicon glyphicon-ban-circle"></i> Annuler</button></div>
            </div>
        </form>
    </div>
</div>